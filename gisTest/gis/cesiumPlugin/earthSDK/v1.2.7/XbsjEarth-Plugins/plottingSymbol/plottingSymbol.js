!function(o){var i=window.webpackHotUpdate;window.webpackHotUpdate=function(o,t){!function(o,i){if(!v[o]||!w[o])return;for(var t in w[o]=!1,i)Object.prototype.hasOwnProperty.call(i,t)&&(y[t]=i[t]);0==--g&&0===f&&A()}(o,t),i&&i(o,t)};var t,s=!0,e="e32416e04b213b75531f",n=1e4,h={},r=[],p=[];function l(o){var i=x[o];if(!i)return X;var s=function(s){return i.hot.active?(x[s]?-1===x[s].parents.indexOf(o)&&x[s].parents.push(o):(r=[o],t=s),-1===i.children.indexOf(s)&&i.children.push(s)):(console.warn("[HMR] unexpected require("+s+") from disposed module "+o),r=[]),X(s)},e=function(o){return{configurable:!0,enumerable:!0,get:function(){return X[o]},set:function(i){X[o]=i}}};for(var n in X)Object.prototype.hasOwnProperty.call(X,n)&&"e"!==n&&"t"!==n&&Object.defineProperty(s,n,e(n));return s.e=function(o){return"ready"===c&&u("prepare"),f++,X.e(o).then(i,(function(o){throw i(),o}));function i(){f--,"prepare"===c&&(M[o]||E(o),0===f&&0===g&&A())}},s.t=function(o,i){return 1&i&&(o=s(o)),X.t(o,-2&i)},s}function a(o){var i={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==o,active:!0,accept:function(o,t){if(void 0===o)i._selfAccepted=!0;else if("function"==typeof o)i._selfAccepted=o;else if("object"==typeof o)for(var s=0;s<o.length;s++)i._acceptedDependencies[o[s]]=t||function(){};else i._acceptedDependencies[o]=t||function(){}},decline:function(o){if(void 0===o)i._selfDeclined=!0;else if("object"==typeof o)for(var t=0;t<o.length;t++)i._declinedDependencies[o[t]]=!0;else i._declinedDependencies[o]=!0},dispose:function(o){i._disposeHandlers.push(o)},addDisposeHandler:function(o){i._disposeHandlers.push(o)},removeDisposeHandler:function(o){var t=i._disposeHandlers.indexOf(o);t>=0&&i._disposeHandlers.splice(t,1)},check:b,apply:S,status:function(o){if(!o)return c;_.push(o)},addStatusHandler:function(o){_.push(o)},removeStatusHandler:function(o){var i=_.indexOf(o);i>=0&&_.splice(i,1)},data:h[o]};return t=void 0,i}var _=[],c="idle";function u(o){c=o;for(var i=0;i<_.length;i++)_[i].call(null,o)}var d,y,P,g=0,f=0,M={},w={},v={};function m(o){return+o+""===o?+o:o}function b(o){if("idle"!==c)throw new Error("check() is only allowed in idle status");return s=o,u("check"),(i=n,i=i||1e4,new Promise((function(o,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var s=new XMLHttpRequest,n=X.p+""+e+".hot-update.json";s.open("GET",n,!0),s.timeout=i,s.send(null)}catch(o){return t(o)}s.onreadystatechange=function(){if(4===s.readyState)if(0===s.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===s.status)o();else if(200!==s.status&&304!==s.status)t(new Error("Manifest request to "+n+" failed."));else{try{var i=JSON.parse(s.responseText)}catch(o){return void t(o)}o(i)}}}))).then((function(o){if(!o)return u("idle"),null;w={},M={},v=o.c,P=o.h,u("prepare");var i=new Promise((function(o,i){d={resolve:o,reject:i}}));y={};return E(0),"prepare"===c&&0===f&&0===g&&A(),i}));var i}function E(o){v[o]?(w[o]=!0,g++,function(o){var i=document.createElement("script");i.charset="utf-8",i.src=X.p+""+o+"."+e+".hot-update.js",document.head.appendChild(i)}(o)):M[o]=!0}function A(){u("ready");var o=d;if(d=null,o)if(s)Promise.resolve().then((function(){return S(s)})).then((function(i){o.resolve(i)}),(function(i){o.reject(i)}));else{var i=[];for(var t in y)Object.prototype.hasOwnProperty.call(y,t)&&i.push(m(t));o.resolve(i)}}function S(i){if("ready"!==c)throw new Error("apply() is only allowed in ready status");var t,s,n,p,l;function a(o){for(var i=[o],t={},s=i.map((function(o){return{chain:[o],id:o}}));s.length>0;){var e=s.pop(),n=e.id,h=e.chain;if((p=x[n])&&!p.hot._selfAccepted){if(p.hot._selfDeclined)return{type:"self-declined",chain:h,moduleId:n};if(p.hot._main)return{type:"unaccepted",chain:h,moduleId:n};for(var r=0;r<p.parents.length;r++){var l=p.parents[r],a=x[l];if(a){if(a.hot._declinedDependencies[n])return{type:"declined",chain:h.concat([l]),moduleId:n,parentId:l};-1===i.indexOf(l)&&(a.hot._acceptedDependencies[n]?(t[l]||(t[l]=[]),_(t[l],[n])):(delete t[l],i.push(l),s.push({chain:h.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:o,outdatedModules:i,outdatedDependencies:t}}function _(o,i){for(var t=0;t<i.length;t++){var s=i[t];-1===o.indexOf(s)&&o.push(s)}}i=i||{};var d={},g=[],f={},M=function(){console.warn("[HMR] unexpected require("+b.moduleId+") to disposed module")};for(var w in y)if(Object.prototype.hasOwnProperty.call(y,w)){var b;l=m(w);var E=!1,A=!1,S=!1,k="";switch((b=y[w]?a(l):{type:"disposed",moduleId:w}).chain&&(k="\nUpdate propagation: "+b.chain.join(" -> ")),b.type){case"self-declined":i.onDeclined&&i.onDeclined(b),i.ignoreDeclined||(E=new Error("Aborted because of self decline: "+b.moduleId+k));break;case"declined":i.onDeclined&&i.onDeclined(b),i.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+b.moduleId+" in "+b.parentId+k));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(b),i.ignoreUnaccepted||(E=new Error("Aborted because "+l+" is not accepted"+k));break;case"accepted":i.onAccepted&&i.onAccepted(b),A=!0;break;case"disposed":i.onDisposed&&i.onDisposed(b),S=!0;break;default:throw new Error("Unexception type "+b.type)}if(E)return u("abort"),Promise.reject(E);if(A)for(l in f[l]=y[l],_(g,b.outdatedModules),b.outdatedDependencies)Object.prototype.hasOwnProperty.call(b.outdatedDependencies,l)&&(d[l]||(d[l]=[]),_(d[l],b.outdatedDependencies[l]));S&&(_(g,[b.moduleId]),f[l]=M)}var O,I=[];for(s=0;s<g.length;s++)l=g[s],x[l]&&x[l].hot._selfAccepted&&f[l]!==M&&I.push({module:l,errorHandler:x[l].hot._selfAccepted});u("dispose"),Object.keys(v).forEach((function(o){!1===v[o]&&function(o){delete installedChunks[o]}(o)}));for(var T,j,V=g.slice();V.length>0;)if(l=V.pop(),p=x[l]){var L={},D=p.hot._disposeHandlers;for(n=0;n<D.length;n++)(t=D[n])(L);for(h[l]=L,p.hot.active=!1,delete x[l],delete d[l],n=0;n<p.children.length;n++){var G=x[p.children[n]];G&&((O=G.parents.indexOf(l))>=0&&G.parents.splice(O,1))}}for(l in d)if(Object.prototype.hasOwnProperty.call(d,l)&&(p=x[l]))for(j=d[l],n=0;n<j.length;n++)T=j[n],(O=p.children.indexOf(T))>=0&&p.children.splice(O,1);for(l in u("apply"),e=P,f)Object.prototype.hasOwnProperty.call(f,l)&&(o[l]=f[l]);var z=null;for(l in d)if(Object.prototype.hasOwnProperty.call(d,l)&&(p=x[l])){j=d[l];var C=[];for(s=0;s<j.length;s++)if(T=j[s],t=p.hot._acceptedDependencies[T]){if(-1!==C.indexOf(t))continue;C.push(t)}for(s=0;s<C.length;s++){t=C[s];try{t(j)}catch(o){i.onErrored&&i.onErrored({type:"accept-errored",moduleId:l,dependencyId:j[s],error:o}),i.ignoreErrored||z||(z=o)}}}for(s=0;s<I.length;s++){var H=I[s];l=H.module,r=[l];try{X(l)}catch(o){if("function"==typeof H.errorHandler)try{H.errorHandler(o)}catch(t){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:t,originalError:o}),i.ignoreErrored||z||(z=t),z||(z=o)}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:l,error:o}),i.ignoreErrored||z||(z=o)}}return z?(u("fail"),Promise.reject(z)):(u("idle"),new Promise((function(o){o(g)})))}var x={};function X(i){if(x[i])return x[i].exports;var t=x[i]={i:i,l:!1,exports:{},hot:a(i),parents:(p=r,r=[],p),children:[]};return o[i].call(t.exports,t,t.exports,l(i)),t.l=!0,t.exports}X.m=o,X.c=x,X.d=function(o,i,t){X.o(o,i)||Object.defineProperty(o,i,{enumerable:!0,get:t})},X.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},X.t=function(o,i){if(1&i&&(o=X(o)),8&i)return o;if(4&i&&"object"==typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(X.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&i&&"string"!=typeof o)for(var s in o)X.d(t,s,function(i){return o[i]}.bind(null,s));return t},X.n=function(o){var i=o&&o.__esModule?function(){return o.default}:function(){return o};return X.d(i,"a",i),i},X.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},X.p="",X.h=function(){return e},l(0)(X.s=0)}([function(o,i,t){"use strict";t.r(i);class s extends XE.Obj.PlotBase{constructor(o,i){super(o,i),this._onlyMove=!1,this._fixedPositionsNum=void 0,XE.MVVM.extend(this,{_polylineShow:!1}),this._polyline=new XE.Obj.Polyline(o),this.disposers.push(()=>{this._polyline=this._polyline&&this._polyline.destroy()}),this._polyline.show=this._polylineShow&&this.show;const t=()=>{this._polyline.show=this._polylineShow&&this.show,this._polyline.width=this.width,this._polyline.material.XbsjColorMaterial.color=this.color,this._polyline.ground=this.ground};t(),this.disposers.push(XE.MVVM.watch(()=>({show:this.show,polylineShow:this._polylineShow,width:this.width,color:[...this.color],ground:this.ground}),()=>t()))}get onlyMove(){return this._onlyMove}get fixedPositionsNum(){return this._fixedPositionsNum}flyTo(){this._polyline.flyTo()}}s.defaultOptions={positions:[],show:!0,width:5,color:[0,1,0,1]};var e=s;const n=XE.Tool;class h extends e{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=2,this._polylineShow=!0,this._positions=new Array(6).fill(0).map(()=>[0,0,0]),this._leftArrowPosition1=[0,0,0],this._rightArrowPosition1=[0,0,0],this._leftArrowPosition2=[0,0,0],this._rightArrowPosition2=[0,0,0],this._leftArrowPosition3=[0,0,0],this._rightArrowPosition3=[0,0,0],this._leftArrowPosition4=[0,0,0],this._rightArrowPosition4=[0,0,0],this._leftArrowPosition5=[0,0,0],this._rightArrowPosition5=[0,0,0],this._leftArrowPosition6=[0,0,0],this._rightArrowPosition6=[0,0,0],this._leftArrowPosition7=[0,0,0],this._rightArrowPosition7=[0,0,0],this._polylinePositions=[],this._scratchHpr=[0,0,0],this._scratchPos=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{if(2===o.length){o[1][2]=o[0][2];const i=n.Math.geoDistance(o[0],o[1]);o[0];if(i>0){const t=n.hpr(o[0],o[1],this._scratchHpr);for(let s=0;s<6;++s)n.Math.geoMove(o[0],t[0]+Cesium.Math.PI_OVER_THREE*s,i,this._positions[s]);return this._polylinePositions.length=0,n.Math.geoMove(this._positions[0],t[0]+7*Math.PI/6,.1*i,this._leftArrowPosition1),n.Math.geoMove(this._positions[0],t[0]-7*Math.PI/6,.1*i,this._rightArrowPosition1),n.Math.geoMove(this._positions[1],t[0]+3*Math.PI/2,.1*i,this._leftArrowPosition2),n.Math.geoMove(this._positions[1],t[0]-Math.PI/6,.1*i,this._rightArrowPosition2),n.Math.geoMove(this._positions[4],t[0]+Math.PI/2,.1*i,this._leftArrowPosition3),n.Math.geoMove(this._positions[4],t[0]+Math.PI/6,.1*i,this._rightArrowPosition3),n.Math.geoMove(this._positions[5],t[0]-5*Math.PI/6,.1*i,this._leftArrowPosition4),n.Math.geoMove(this._positions[5],t[0]+5*Math.PI/6,.1*i,this._rightArrowPosition4),n.Math.geoMove(this._positions[2],t[0]-Math.PI/6,.1*i,this._leftArrowPosition5),n.Math.geoMove(this._positions[2],t[0]-Math.PI/2,.1*i,this._rightArrowPosition5),n.Math.geoMove(this._positions[3],t[0]+Math.PI/2,.1*i,this._leftArrowPosition6),n.Math.geoMove(this._positions[3],t[0]+Math.PI/6,.1*i,this._rightArrowPosition6),n.Math.geoMove(this.positions[0],t[0]+7*Math.PI/6,.1*i,this._leftArrowPosition7),n.Math.geoMove(this.positions[0],t[0]-(Math.PI+Math.PI/6),.1*i,this._rightArrowPosition7),this._polylinePositions.push([...o[0]]),this._polylinePositions.push([...this._positions[0]]),this._polylinePositions.push([...this._leftArrowPosition1]),this._polylinePositions.push([...this._positions[0]]),this._polylinePositions.push([...this._rightArrowPosition1]),this._polylinePositions.push([...this._positions[0]]),this._polylinePositions.push([...this._positions[1]]),this._polylinePositions.push([...this._leftArrowPosition2]),this._polylinePositions.push([...this._positions[1]]),this._polylinePositions.push([...this._rightArrowPosition2]),this._polylinePositions.push([...this._positions[1]]),this._polylinePositions.push([...this._positions[4]]),this._polylinePositions.push([...this._leftArrowPosition3]),this._polylinePositions.push([...this._positions[4]]),this._polylinePositions.push([...this._rightArrowPosition3]),this._polylinePositions.push([...this._positions[4]]),this._polylinePositions.push([...this._positions[5]]),this._polylinePositions.push([...this._leftArrowPosition4]),this._polylinePositions.push([...this._positions[5]]),this._polylinePositions.push([...this._rightArrowPosition4]),this._polylinePositions.push([...this._positions[5]]),this._polylinePositions.push([...this._positions[2]]),this._polylinePositions.push([...this._leftArrowPosition5]),this._polylinePositions.push([...this._positions[2]]),this._polylinePositions.push([...this._rightArrowPosition5]),this._polylinePositions.push([...this._positions[2]]),this._polylinePositions.push([...this._positions[3]]),this._polylinePositions.push([...this._leftArrowPosition6]),this._polylinePositions.push([...this._positions[3]]),this._polylinePositions.push([...this._rightArrowPosition6]),this._polylinePositions.push([...this._positions[3]]),this._polylinePositions.push([...o[0]]),this._polylinePositions.push([...this._leftArrowPosition7]),this._polylinePositions.push([...o[0]]),this._polylinePositions.push([...this._rightArrowPosition7]),this._polyline.positions=this._polylinePositions,void(this._polylineShow=!0)}}this._polylineShow=!1}))}}h.registerType(h,"GeoSectorSearch");var r=h;const p=XE.Tool;class l extends e{constructor(o,i){super(o,i),this._polylineShow=!0,this._leftArrowPosition=[0,0,0],this._rightArrowPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{const i=o.length,t=p.Math.distance(o);if(i<2||p.Math.hasSamePosition(o))return void(this._polylineShow=!1);const s=p.Math.hpr(o[i-1],o[i-2]);p.Math.geoMove(o[i-1],s[0]+Math.PI/6,.1*t,this._leftArrowPosition),p.Math.geoMove(o[i-1],s[0]-Math.PI/6,.1*t,this._rightArrowPosition),o.push([...this._leftArrowPosition]),o.push([...o[i-1]]),o.push([...this._rightArrowPosition]),o.push([...o[i-1]]),this._polyline.positions=o,this._polylineShow=!0}))}}l.registerType(l,"GeoPolylineArrow");var a=l;class _ extends XE.Obj.PlotBase{constructor(o,i){super(o,i),this._onlyMove=!1,this._fixedPositionsNum=void 0,XE.MVVM.extend(this,{_polygonShow:!1}),this._polygon=new XE.Obj.Polygon(o),this.disposers.push(()=>{this._polygon=this._polygon&&this._polygon.destroy()}),this._polygon.show=this._polygonShow&&this.show;const t=()=>{this._polygon.show=this._polygonShow&&this.show,this._polygon.width=this.width,this._polygon.color=this.color,this._polygon.ground=this.ground,this._polygon.outline.width=this.outlineWidth,this._polygon.outline.color=this.outlineColor,this._polygon.outline.show=this.outlineShow};t(),this.disposers.push(XE.MVVM.watch(()=>({show:this._polygonShow&&this.show,width:this.width,color:[...this.color],ground:this.ground,outlineWidth:this.outlineWidth,outlineColor:this.outlineColor,outlineShow:this.outlineShow}),()=>t()))}get onlyMove(){return this._onlyMove}get fixedPositionsNum(){return this._fixedPositionsNum}flyTo(){this._polygon.flyTo()}}_.defaultOptions={positions:[],show:!0,color:[0,1,0,.1],outlineWidth:2,outlineColor:[0,1,0,1],outlineShow:!0};var c=_;const u=XE.Tool;class d extends c{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonShow=!0,this._polygonPositions=[],this._hpr=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{if(o.length<2||u.Math.hasSamePosition(o))return void(this._polygonShow=!1);this._polygonPositions.length=0,this._polygonPositions.push(o[0][0],o[1][1]),this._polygonPositions.push(o[0][0],o[0][1]),this._polygonPositions.push(o[1][0],.5*(o[0][1]+o[1][1]));const i=o[1][0]-o[0][0];this._polygonPositions.push(o[0][0]+.01*i,.5*(o[0][1]+o[1][1])),this._polygonPositions.push(o[0][0]+.01*i,o[1][1]),this._polygon.positions=this._polygonPositions,this._polygon.height=o[0][2],this._polygonShow=!0}))}}d.registerType(d,"GeoTriFlag");var y=d;const P=XE.Tool;class g extends e{constructor(o,i){super(o,i),this._polylineShow=!0,this._leftArrowPosition=[0,0,0],this._rightArrowPosition=[0,0,0],this._positions=[],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{const i=o.length,t=P.Math.distance(o);if(i<2||P.Math.hasSamePosition(o))return void(this._polylineShow=!1);this._positions.length=0,P.Math.interpolatePositions(o,100,!1,this._positions);const s=this._positions.length,e=P.Math.hpr(this._positions[s-1],this._positions[s-2]);P.Math.geoMove(this._positions[s-1],e[0]+Math.PI/6,.05*t,this._leftArrowPosition),P.Math.geoMove(this._positions[s-1],e[0]-Math.PI/6,.05*t,this._rightArrowPosition),this._positions.push([...this._leftArrowPosition]),this._positions.push([...this._positions[s-1]]),this._positions.push([...this._rightArrowPosition]),this._positions.push([...this._positions[s-1]]),this._polyline.positions=this._positions,this._polylineShow=!0}))}}g.registerType(g,"GeoCurveArrow");var f=g;const M=XE.Tool;class w extends c{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=4,this._polygonShow=!0,this._keyPositions=new Array(50).fill(0).map(o=>[0,0,0]),this._bottomCurcePositions=new Array(20).fill(0).map(o=>[0,0,0]),this._leftArrowLeftPositions=new Array(20).fill(0).map(o=>[0,0,0]),this._leftArrowRightPositions=new Array(20).fill(0).map(o=>[0,0,0]),this._rightArrowLeftPositions=new Array(20).fill(0).map(o=>[0,0,0]),this._rightArrowRightPositions=new Array(20).fill(0).map(o=>[0,0,0]),this._polygonPositions=[],this._hpr=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{if(o.length<3||M.Math.hasSamePosition(o))return void(this._polygonShow=!1);this._keyPositions[0].splice(0,3,...o[0]),this._keyPositions[1].splice(0,3,...o[1]),this._keyPositions[2].splice(0,3,...o[2]),4===o.length?this._keyPositions[3].splice(0,3,...o[3]):(M.Math.geoLerp(o[0],o[2],.5,this._keyPositions[3]),M.Math.geoLerp(o[1],this._keyPositions[3],2,this._keyPositions[3]));const i=this._keyPositions[0],t=this._keyPositions[1],s=this._keyPositions[2],e=this._keyPositions[3],n=M.Math.geoLerp(i,t,.5,this._keyPositions[4]),h=M.Math.geoLerp(s,e,.5,this._keyPositions[5]),r=M.Math.geoLerp(n,h,.1,this._keyPositions[6]);M.Math.Bezier.bezier2(i,r,t,19,this._bottomCurcePositions);const p=M.Math.geoDistance(i,t),l=t,a=s,_=M.Math.geoLerp(n,h,.3,this._keyPositions[7]),c=M.Math.hpr(l,a,this._hpr)[0],u=M.Math.geoMove(a,Math.PI+c,.1*p,this._keyPositions[8]),d=M.Math.geoMove(u,c-.5*Math.PI,.04*p,this._keyPositions[9]),y=M.Math.geoMove(u,c+.5*Math.PI,.04*p,this._keyPositions[10]),P=M.Math.geoLerp(d,y,-.5,this._keyPositions[11]),g=M.Math.geoLerp(d,y,1.5,this._keyPositions[12]),f=M.Math.geoLerp(d,_,.5,this._keyPositions[13]),w=M.Math.geoLerp(y,l,.5,this._keyPositions[14]),v=(M.Math.geoLerp(f,w,.3,this._keyPositions[15]),M.Math.geoLerp(f,w,1.3,this._keyPositions[16]));M.Math.Bezier.bezier2(l,v,y,19,this._rightArrowRightPositions);const m=M.Math.geoLerp(n,h,.3,this._keyPositions[17]),b=e,E=i,A=M.Math.hpr(E,b,this._hpr)[0],S=M.Math.geoMove(b,Math.PI+A,.1*p,this._keyPositions[18]),x=M.Math.geoMove(S,A-.5*Math.PI,.04*p,this._keyPositions[19]),X=M.Math.geoMove(S,A+.5*Math.PI,.04*p,this._keyPositions[20]),k=M.Math.geoLerp(x,X,-.5,this._keyPositions[21]),O=M.Math.geoLerp(x,X,1.5,this._keyPositions[22]),I=M.Math.geoLerp(x,E,.5,this._keyPositions[23]),T=M.Math.geoLerp(X,m,.5,this._keyPositions[24]),j=M.Math.geoLerp(I,T,-.3,this._keyPositions[25]);M.Math.geoLerp(I,T,.7,this._keyPositions[26]);M.Math.Bezier.bezier3(d,t,i,X,19,this._leftArrowRightPositions),M.Math.Bezier.bezier2(x,j,E,19,this._leftArrowLeftPositions),this._polygonPositions.length=0,this._bottomCurcePositions.forEach(o=>{this._polygonPositions.push(o[0],o[1])}),this._rightArrowRightPositions.forEach(o=>this._polygonPositions.push(o[0],o[1])),this._polygonPositions.push(g[0],g[1]),this._polygonPositions.push(a[0],a[1]),this._polygonPositions.push(P[0],P[1]),this._leftArrowRightPositions.forEach(o=>this._polygonPositions.push(o[0],o[1])),this._polygonPositions.push(O[0],O[1]),this._polygonPositions.push(b[0],b[1]),this._polygonPositions.push(k[0],k[1]),this._leftArrowLeftPositions.forEach(o=>this._polygonPositions.push(o[0],o[1])),this._polygon.positions=this._polygonPositions,this._polygon.height=o[0][2],this._polygonShow=!0}))}}w.registerType(w,"GeoDoubleArrow");var v=w;const m=XE.Tool;class b extends c{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonShow=!0,this._polygonPositions=new Array(4).fill(0).map(o=>[0,0,0]),this._pgPositions=[],this._nextPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{if(o.length<2||m.Math.hasSamePosition(o))return void(this._polygonShow=!1);const i=m.Math.geoDistance(o[0],o[1]);this._polygonPositions.length=0,this._polygonPositions.push([...o[1]]);const t=m.Math.hpr(o[0],o[1]);for(var s=0;s<3;s++)m.Math.geoMove(o[0],t[0]+=Math.PI/2,i,this._nextPosition),this._polygonPositions.push([...this._nextPosition]);this._pgPositions.length=0,this._polygonPositions.forEach(o=>{this._pgPositions.push(o[0],o[1])}),this._polygon.positions=this._pgPositions,this._polygon.height=o[0][2],this._polygonShow=!0}))}}b.registerType(b,"GeoRectangle");var E=b;const A=XE.Tool;class S extends c{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonShow=!0,this._polygonPositions=new Array(360).fill(0).map(o=>[0,0,0]),this._pgPositions=[],this._nextPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{if(o.length<2||A.Math.hasSamePosition(o))return void(this._polygonShow=!1);const i=A.Math.geoDistance(o[0],o[1]);this._polygonPositions.length=0,this._polygonPositions.push([...o[1]]);const t=A.Math.hpr(o[0],o[1]);for(var s=0;s<359;s++)A.Math.geoMove(o[0],t[0]+=Math.PI/180,i,this._nextPosition),this._polygonPositions.push([...this._nextPosition]);this._pgPositions.length=0,this._polygonPositions.forEach(o=>{this._pgPositions.push(o[0],o[1])}),this._polygon.positions=this._pgPositions,this._polygon.height=o[0][2],this._polygonShow=!0}))}}S.registerType(S,"GeoCircle");var x=S;const X=XE.Tool;class k extends c{constructor(o,i){super(o,i),this._polygonShow=!0,this._pgPositions=[],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{o.length<2||X.Math.hasSamePosition(o)?this._polygonShow=!1:(this._pgPositions.length=0,o.forEach(o=>{this._pgPositions.push(o[0],o[1])}),this._polygon.positions=this._pgPositions,this._polygon.height=o[0][2],this._polygonShow=!0)}))}}k.registerType(k,"GeoPolygon");var O=k;XE.Tool;class I extends XE.Core.XbsjCzmObj{constructor(o,i){super(o,i),this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionEditing(this._earth,this,{positionEditingProperty:"editing"})),this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPositionPicking(this._earth,this,{positionPickingProperty:"creating"})),this._pin=new XE.Obj.Pin(o),this.disposers.push(()=>this._pin=this._pin&&this._pin.destroy()),this.disposers.push(XE.MVVM.watch(()=>{this._pin.position=[...this.position],this._pin.viewDistance=this.viewDistance,this._pin.scale=this.scale,this._pin.near=this.near,this._pin.far=this.far,this._pin.disableDepthTestDistance=this.disableDepthTestDistance,this._pin.enabled=this.enabled,this._pin.cameraAttached=this.cameraAttached,this._pin.attachedPathGuid=this.attachedPathGuid})),this.disposers.push(XE.MVVM.bind(this,"cameraAttached",this,"_pin.cameraAttached")),this._div=document.createElement("div"),this._div.id=this._pin.guid,this._div.innerHTML=this.innerHTML,this._div.style.position="absolute",this._div.style.pointerEvents="none";let t=this._pin;this.disposers.push(XE.MVVM.watch(()=>[...t.winPos],o=>{this._div.style.left=o[0]+"px",this._div.style.bottom=o[1]+"px"})),o.czm.viewer.container.appendChild(this._div),this.disposers.push(XE.MVVM.watch(()=>({cameraPosition:[...o.camera.position],near:this.near,far:this.far,position:[...this.position],enabled:this.enabled}),o=>{let i=XE.Tool.Math.distance([o.position,o.cameraPosition]);o.near<=i&&i<=o.far?this._div.style.display="block":this._div.style.display="none",o.enabled?this._div.style.display="block":this._div.style.display="none"})),this._pin.show=!1,this.defaultImgUrl=function(){return XE.HTML.getScriptBaseUrl("plottingSymbol")+"assets/dialog.png"},this.innerHTML="<div\n        style=\"height:50px;width:100px;left:-76px;\n        bottom:0px;position: absolute;color: white;\n        background-size: 100% 100%;padding: 5px;\n        border-radius: 5px;cursor:pointer;\n        background-image:url('"+this.defaultImgUrl()+"');\">\n    标记文字\n    </div>",this.disposers.push(XE.MVVM.watch(()=>{this._div.innerHTML=this.innerHTML}))}destroy(){return this._div&&this._div.parentNode.removeChild(this._div),super.destroy()}}I.defaultOptions={position:[0,0,0],viewDistance:100,scale:1,near:0,cameraAttached:!1,attachedPathGuid:"",far:Number.MAX_VALUE,disableDepthTestDistance:Number.MAX_VALUE,show:!1,innerHTML:"",defaultImgUrl:Function},I.registerType(I,"GeoPin");var T=I;const j=XE.Tool;class V extends c{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonShow=!0,this._polygonPositions=[],this._hpr=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{if(o.length<2||j.Math.hasSamePosition(o))return void(this._polygonShow=!1);this._polygonPositions.length=0,this._polygonPositions.push(o[0][0],o[1][1]),this._polygonPositions.push(o[0][0],o[0][1]),this._polygonPositions.push(o[1][0],o[0][1]),this._polygonPositions.push(o[1][0],.5*(o[0][1]+o[1][1]));const i=o[1][0]-o[0][0];this._polygonPositions.push(o[0][0]+.01*i,.5*(o[0][1]+o[1][1])),this._polygonPositions.push(o[0][0]+.01*i,o[1][1]),this._polygon.positions=this._polygonPositions,this._polygon.height=o[0][2],this._polygonShow=!0}))}}V.registerType(V,"GeoRightAngleFlag");var L=V;const D=XE.Tool;class G extends c{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=2,this._polygonShow=!0,this._polygonPositions=[],this._hpr=[0,0,0],this._keyPositions=new Array(50).fill(0).map(o=>[0,0,0]),this._bottomCurcePositions=new Array(20).fill(0).map(o=>[0,0,0]),this._sbottomCurcePositions=new Array(20).fill(0).map(o=>[0,0,0]),this._tbottomCurcePositions=new Array(20).fill(0).map(o=>[0,0,0]),this._fbottomCurcePositions=new Array(20).fill(0).map(o=>[0,0,0]),this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{if(o.length<2||D.Math.hasSamePosition(o))return void(this._polygonShow=!1);this._keyPositions[0].splice(0,3,...o[0]),this._keyPositions[1].splice(0,3,...o[1]),this._polygonPositions.length=0,this._polygonPositions.push(o[0][0],o[1][1]),this._polygonPositions.push(o[0][0],o[0][1]);const i=o[1][0]-o[0][0],t=[o[0][0],o[0][1],0],s=[.5*(o[0][0]+o[1][0]),o[0][1],0],e=[.5*(o[0][0]+o[1][0])-2*i,o[0][1]-.8*i,0],n=[o[0][0],o[0][1]-i,0],h=D.Math.geoLerp(t,s,.9,this._keyPositions[4]),r=D.Math.geoLerp(e,n,.9,this._keyPositions[5]),p=D.Math.geoLerp(h,r,.2,this._keyPositions[6]);D.Math.Bezier.bezier2(t,p,s,19,this._bottomCurcePositions),this._bottomCurcePositions.forEach(o=>{this._polygonPositions.push(o[0],o[1])});const l=[.5*(o[0][0]+o[1][0]),o[0][1],0],a=[o[1][0],o[0][1],0],_=[.5*(o[0][0]+o[1][0])+i,o[0][1]-.1*i+i,0],c=[o[0][0],o[0][1]-i,0],u=D.Math.geoLerp(l,a,.1,this._keyPositions[7]),d=D.Math.geoLerp(_,c,.1,this._keyPositions[8]),y=D.Math.geoLerp(u,d,.2,this._keyPositions[9]);D.Math.Bezier.bezier2(l,y,a,19,this._sbottomCurcePositions),this._sbottomCurcePositions.forEach(o=>{this._polygonPositions.push(o[0],o[1])}),this._polygonPositions.push(o[1][0],o[0][1]),this._polygonPositions.push(o[1][0],.5*(o[0][1]+o[1][1]));const P=[o[1][0],.5*(o[0][1]+o[1][1]),0],g=[.5*(o[0][0]+o[1][0]),.5*(o[0][1]+o[1][1]),0],f=[o[1][0]-i,.5*(o[0][1]+o[1][1])+.5*i,0],M=[o[1][0]-6*i,.5*(o[0][1]+o[1][1])+2*i,0],w=D.Math.geoLerp(P,g,.1,this._keyPositions[7]),v=D.Math.geoLerp(f,M,.1,this._keyPositions[8]),m=D.Math.geoLerp(w,v,.2,this._keyPositions[9]);D.Math.Bezier.bezier2(P,m,g,19,this._tbottomCurcePositions),this._tbottomCurcePositions.forEach(o=>{this._polygonPositions.push(o[0],o[1])});const b=[.5*(o[0][0]+o[1][0]),.5*(o[0][1]+o[1][1]),0],E=[o[0][0]+.01*i,.5*(o[0][1]+o[1][1]),0],A=[.5*(o[0][0]+o[1][0])+5*i,.5*(o[0][1]+o[1][1])-1.1*i,0],S=[o[0][0]+1.01*i,.5*(o[0][1]+o[1][1])-i,0],x=D.Math.geoLerp(b,E,.9,this._keyPositions[4]),X=D.Math.geoLerp(A,S,.9,this._keyPositions[5]),k=D.Math.geoLerp(x,X,.2,this._keyPositions[6]);D.Math.Bezier.bezier2(b,k,E,19,this._fbottomCurcePositions),this._fbottomCurcePositions.forEach(o=>{this._polygonPositions.push(o[0],o[1])}),this._polygonPositions.push(o[0][0]+.01*i,o[1][1]),this._polygon.positions=this._polygonPositions,this._polygon.height=o[0][2],this._polygonShow=!0}))}}G.registerType(G,"GeoCurveFlag");var z=G;const C=XE.Tool;class H extends e{constructor(o,i){super(o,i),this._polylineShow=!0,this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{const i=o.length;C.Math.distance(o);i<2||C.Math.hasSamePosition(o)?this._polylineShow=!1:(this._polyline.positions=o,this._polylineShow=!0)}))}}H.registerType(H,"GeoPolyline");var N=H;const B=XE.Tool;class R extends e{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=3,this._polylineShow=!0,this._polylinePositions=new Array(360).fill(0).map(o=>[0,0,0]),this._pgPositions=[],this._nextPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{if(o.length<3||B.Math.hasSamePosition(o))return void(this._polylineShow=!1);const i=B.Math.geoDistance(o[0],o[1]);this._polylinePositions.length=0,this._polylinePositions.push([...o[1]]);const t=B.Math.hpr(o[0],o[1]),s=B.Math.hpr(o[0],o[2]);var e=0;e=t[0]>=s[0]?(t[0]-s[0])*(180/Math.PI):(t[0]-s[0]+2*Math.PI)*(180/Math.PI);for(var n=0;n<e;n++)B.Math.geoMove(o[0],t[0]-=Math.PI/180,i,this._nextPosition),this._polylinePositions.push([...this._nextPosition]);this._polyline.positions=this._polylinePositions,this._polylineShow=!0}))}}R.registerType(R,"GeoArc");var U=R;const F=XE.Tool;class q extends e{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=3,this._polylineShow=!0,this._bezierPositions=new Array(20).fill(0).map(o=>[0,0,0]),this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{o.length<3||F.Math.hasSamePosition(o)?this._polylineShow=!1:(F.Math.Bezier.bezier2(o[0],o[1],o[2],19,this._bezierPositions),this._polyline.positions=this._bezierPositions,this._polylineShow=!0)}))}}q.registerType(q,"GeoBezier2");var W=q;const J=XE.Tool;class K extends e{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=4,this._polylineShow=!0,this._bezierPositions=new Array(20).fill(0).map(o=>[0,0,0]),this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{o.length<4||J.Math.hasSamePosition(o)?this._polylineShow=!1:(J.Math.Bezier.bezier3(o[0],o[1],o[2],o[3],19,this._bezierPositions),this._polyline.positions=this._bezierPositions,this._polylineShow=!0)}))}}K.registerType(K,"GeoBezier3");var Q=K;const Y=XE.Tool;class Z extends c{constructor(o,i){super(o,i),this._onlyMove=!0,this._fixedPositionsNum=3,this._polygonShow=!0,this._polygonPositions=new Array(360).fill(0).map(o=>[0,0,0]),this._pgPositions=[],this._nextPosition=[0,0,0],this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(o=>[...o])],o=>{if(o.length<3||Y.Math.hasSamePosition(o))return void(this._polygonShow=!1);const i=Y.Math.geoDistance(o[0],o[1]);this._polygonPositions.length=0,this._polygonPositions.push([...o[0]]),this._polygonPositions.push([...o[1]]);const t=Y.Math.hpr(o[0],o[1]),s=Y.Math.hpr(o[0],o[2]);var e=0;e=t[0]>=s[0]?(t[0]-s[0])*(180/Math.PI):(t[0]-s[0]+2*Math.PI)*(180/Math.PI);for(var n=0;n<e;n++)Y.Math.geoMove(o[0],t[0]-=Math.PI/180,i,this._nextPosition),this._polygonPositions.push([...this._nextPosition]);this._pgPositions.length=0,this._polygonPositions.forEach(o=>{this._pgPositions.push(o[0],o[1])}),this._polygon.positions=this._pgPositions,this._polygon.height=o[0][2],this._polygonShow=!0}))}}Z.registerType(Z,"GeoSector");var $=Z;XE.Obj.Plots=XE.Obj.Plots||{},XE.Obj.Plots.GeoSectorSearch=r,XE.Obj.Plots.GeoPolylineArrow=a,XE.Obj.Plots.GeoTriFlag=y,XE.Obj.Plots.GeoCurveArrow=f,XE.Obj.Plots.GeoDoubleArrow=v,XE.Obj.Plots.GeoRectangle=E,XE.Obj.Plots.GeoCircle=x,XE.Obj.Plots.GeoPolygon=O,XE.Obj.Plots.GeoPin=T,XE.Obj.Plots.GeoRightAngleFlag=L,XE.Obj.Plots.GeoCurveFlag=z,XE.Obj.Plots.GeoPolyline=N,XE.Obj.Plots.GeoArc=U,XE.Obj.Plots.GeoBezier2=W,XE.Obj.Plots.GeoBezier3=Q,XE.Obj.Plots.GeoSector=$}]);